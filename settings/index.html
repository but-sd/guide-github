
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../projects/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.7">
    
    
      
        <title>Settings - guide-github</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4b4a2bd9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#settings" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href=".." title="guide-github" class="md-header__button md-logo" aria-label="guide-github" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            guide-github
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Settings
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Accueil

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../pull-request/" class="md-tabs__link">
        
  
    
  
  Pull requests

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../actions/" class="md-tabs__link">
        
  
    
  
  Actions

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../projects/" class="md-tabs__link">
        
  
    
  
  Projects

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Settings

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="guide-github" class="md-nav__button md-logo" aria-label="guide-github" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    guide-github
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accueil
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../pull-request/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pull requests
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../projects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projects
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Settings
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Settings
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#protection-des-branches" class="md-nav__link">
    Protection des branches
  </a>
  
    <nav class="md-nav" aria-label="Protection des branches">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#protection-de-la-branche-main" class="md-nav__link">
    Protection de la branche main
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#protection-de-la-branche-develop" class="md-nav__link">
    Protection de la branche develop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verification-des-protections" class="md-nav__link">
    Vérification des protections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aller-plus-loin-dans-la-protection-des-branches" class="md-nav__link">
    Aller plus loin dans la protection des branches
  </a>
  
    <nav class="md-nav" aria-label="Aller plus loin dans la protection des branches">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#require-approvals" class="md-nav__link">
    Require approvals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dismiss-stale-pull-request-approvals-when-new-commits-are-pushed" class="md-nav__link">
    Dismiss stale pull request approvals when new commits are pushed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#require-review-from-code-owners" class="md-nav__link">
    Require review from Code Owners
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#require-status-checks-to-pass-before-merging" class="md-nav__link">
    Require status checks to pass before merging
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="settings">Settings</h1>
<h2 id="protection-des-branches">Protection des branches</h2>
<h3 id="protection-de-la-branche-main">Protection de la branche <code>main</code></h3>
<p>Une bonne pratique est de protéger la branche <code>main</code> contre les modifications directes. Toutes les modifications doivent être faites à partir d'une pull request. Il sera donc impossible de faire un <code>git push</code> sur la branche <code>main</code>.</p>
<p>github vous informe d'ailleurs lorsque vous avez plusieurs branches si votre branch <code>main</code> n'est pas protégée.</p>
<p><img alt="Branch main not protected" src="../images/branch-main-not-protected.png" /></p>
<p>Pour protéger la branche <code>main</code>, il faut aller dans les paramètres du repository, puis dans la section <code>Branches</code>. Dans la section <code>Branch protection rules</code>, cliquez sur le bouton <code>Add branch protection rule</code>.</p>
<p><img alt="Branch protection rules" src="../images/branch-protection-rules.png" /></p>
<p>A minima, il faut cocher la case <code>Require pull request before merging</code>. Cela permet de s'assurer que le code a été validé avant d'être fusionné dans la branche <code>main</code>.</p>
<p><img alt="Require pull request before merging" src="../images/require-pull-request-before-merging.png" /></p>
<h3 id="protection-de-la-branche-develop">Protection de la branche <code>develop</code></h3>
<p>Même si la branch <code>develop</code> n'est pas une branche de production, il est également intéressant de la protéger contre les modifications directes. Cela permet de s'assurer que tout ce qui est fusionné dans la branche <code>develop</code> a été validé par une pull request et passe donc toutes les étapes de validation que l'on souhaite mettre en place.</p>
<p>Nous allons donc protéger la branche <code>develop</code> de la même manière que la branche <code>main</code>. Nous verrons plus tard comment mettre en place des étapes de validation.</p>
<h3 id="verification-des-protections">Vérification des protections</h3>
<p>Une fois les branches <code>main</code> et <code>develop</code> protégées, vous ne pouvez plus faire de <code>git push</code> directement sur ces branches. Vous devez obligatoirement passer par une pull request. </p>
<p><img alt="Push not allowed" src="../images/push-not-allowed.png" /></p>
<p>De même si vous passez par l'interface web de github pour modifier un fichier, vous ne pouvez plus faire un <code>commit</code> directement sur la branche <code>main</code> ou <code>develop</code>.</p>
<p><img alt="Commit not allowed" src="../images/commit-not-allowed.png" /></p>
<h3 id="aller-plus-loin-dans-la-protection-des-branches">Aller plus loin dans la protection des branches</h3>
<p>Les options de protection des branches évoluent régulièrement. Il est donc possible que les options présentées ci-dessous ne soient plus disponibles ou que de nouvelles options soient disponibles. Sont présentées ici les options qui paraissent les plus intéressantes.</p>
<h4 id="require-approvals">Require approvals</h4>
<p>L'option <code>Require approvals</code> permet de définir le nombre d'approbations nécessaires avant de pouvoir fusionner la pull request. Par défaut, il faut une approbation. Vous pouvez augmenter ce nombre si vous souhaitez que plusieurs personnes valident la pull request avant de pouvoir la fusionner.</p>
<p><img alt="Require approvals" src="../images/require-approvals.png" /></p>
<p>Cette option est intéressante si vous souhaitez que le code soit validé par plusieurs personnes avant de pouvoir le fusionner. Cela permet de s'assurer que le code est de qualité, qu'il respecte les conventions de codage, qu'il est testé, etc.</p>
<h4 id="dismiss-stale-pull-request-approvals-when-new-commits-are-pushed">Dismiss stale pull request approvals when new commits are pushed</h4>
<p>L'option <code>Dismiss stale pull request approvals when new commits are pushed</code> permet de supprimer les approbations lorsque de nouveaux commits sont ajoutés à la pull request. Cela permet de s'assurer que les approbations ne sont plus valides lorsque de nouveaux commits sont ajoutés à la pull request.</p>
<h4 id="require-review-from-code-owners">Require review from Code Owners</h4>
<p>L'option <code>Require review from Code Owners</code> permet de s'assurer que les propriétaires du code ont validé la pull request avant de pouvoir la fusionner. Pour cela, il faut créer un fichier <code>CODEOWNERS</code> à la racine du repository. Ce fichier permet de définir les propriétaires du code.</p>
<p>Par exemple, si vous avez un fichier <code>README.md</code> et que vous souhaitez que les propriétaires du code soient <code>user1</code> et <code>user2</code>, il faut ajouter la ligne suivante dans le fichier <code>CODEOWNERS</code> :</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>README.md @user1 @user2
</span></code></pre></div>
<p>Ainsi, lorsque vous créerez une pull request qui modifie le fichier <code>README.md</code>, les utilisateurs <code>user1</code> et <code>user2</code> seront automatiquement ajoutés comme reviewers de la pull request.</p>
<h4 id="require-status-checks-to-pass-before-merging">Require status checks to pass before merging</h4>
<p>L'option <code>Require status checks to pass before merging</code> permet de s'assurer que les étapes de validation ont été exécutées avant de pouvoir fusionner la pull request. Pour cela, il faut créer des étapes de validation, c'est grâce à ces étapes de validation que l'on pourra s'assurer que la pull request est valide en fonction des critères que l'on souhaite.</p>
<p>Par exemple :</p>
<ul>
<li>le code est valide, par exemple pour un projet écrit dans un langage compilé, le code compile.</li>
<li>le code respecte les conventions de codage.</li>
<li>le code est testé et les tests passent.</li>
<li>la couverture de test est suffisante.</li>
<li>la qualité du code est suffisante.</li>
<li>...</li>
</ul>
<p>Les status checks sont des étapes de validation qui sont exécutées à chaque fois que vous faites un <code>git push</code>. Il s'agit d'actions qui sont exécutées par github ou par des outils tiers. Par exemple, github propose des status checks pour vérifier que le code compile, que les tests passent, que la couverture de test est suffisante, etc. Voir la page <a href="../actions/">Actions</a> pour plus de détails.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "toc.integrate", "content.code.copy", "navigation.top"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>